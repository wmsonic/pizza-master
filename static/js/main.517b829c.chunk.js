(this["webpackJsonpmorw1666748-pizza"]=this["webpackJsonpmorw1666748-pizza"]||[]).push([[0],{27:function(e){e.exports=JSON.parse('[{"nom":"sauce","state":false,"prix":0.1},{"nom":"fromage","state":false,"prix":0.1},{"nom":"peperoni","state":false,"prix":1.75},{"nom":"bacon","state":false,"prix":1.5},{"nom":"jambon","state":false,"prix":1.5},{"nom":"poivrons","state":false,"prix":0.75},{"nom":"champignons","state":false,"prix":0.65},{"nom":"olives","state":false,"prix":0.35},{"nom":"ananas","state":false,"prix":0.55},{"nom":"basilic","state":false,"prix":0.25},{"nom":"piments","state":false,"prix":0.55}]')},28:function(e){e.exports=JSON.parse('[{"nom":"Peperoni fromage","garnitures":[{"nom":"sauce"},{"nom":"fromage"},{"nom":"peperoni"}],"prix":11.75},{"nom":"All-dressed","garnitures":[{"nom":"sauce"},{"nom":"fromage"},{"nom":"peperoni"},{"nom":"poivrons"},{"nom":"champignons"},{"nom":"olives"}],"prix":13.5},{"nom":"Hawa\xefenne","garnitures":[{"nom":"sauce"},{"nom":"fromage"},{"nom":"jambon"},{"nom":"ananas"}],"prix":12.05}]')},38:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a,r,i=n(1),s=n(22),c=n.n(s),o=n(9),j=n(8),l=n(2),m=n(7),u=n(15),d=n(16),b=d.a.div(a||(a=Object(u.a)(["\n    color:red;\n    font-size:.7rem;\n"]))),p=(n(38),n(0)),x=function(e){var t=e.setAuthenticatedFn,n=e.defaultUsername,a=Object(i.useState)(n),r=Object(j.a)(a,2),s=r[0],c=r[1],o=Object(i.useState)(!1),m=Object(j.a)(o,2),u=m[0],d=m[1],x=Object(l.g)();return Object(p.jsxs)("div",{className:"loginForm",children:[Object(p.jsx)("input",{id:"usernameInput",name:"Nom Pizza",type:"text",placeholder:"Nom d'usager",value:s,onChange:function(e){c((function(t){return e.target.value}))}}),Object(p.jsx)("button",{className:"myButton",onClick:function(){""!==s.trim()?(t(!0),x.push("/pizza")):(d(!0),document.getElementById("usernameInput").focus())},children:"Se connecter"}),u?Object(p.jsx)(b,{id:"loginError",className:"formError",children:"*Un nom d'usager est requis"}):null]})},h=(n(46),function(e){var t=e.id,n=e.nom,a=e.mesGarnitures,r=e.setGarnituresFn,i=e.preset,s=a[t],c=s.prix.toFixed(2);return Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)("li",{children:n}):Object(p.jsx)("div",{className:"choix",children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{name:n,type:"checkbox",checked:s.state,onChange:function(){s.state=!s.state,r(Object(o.a)(a))}}),n," ",Object(p.jsxs)("span",{className:"extraCost",children:["(+",c,"$)"]})]})})})}),O=n(29),z=(n(47),["mesGarnitures"]),f=function(e){var t=e.mesGarnitures,n=Object(O.a)(e,z),a=n.preset,r=n.info;return Object(p.jsxs)(p.Fragment,{children:[""!=n.nom?Object(p.jsx)("div",{className:"nomPizza",children:n.nom}):null,Object(p.jsx)("img",{className:"pate",src:"/pizza-maker/img/pate.png",alt:""}),t.map((function(e){return a?Object(p.jsx)("img",{className:e.nom,src:"/pizza-maker/img/"+e.nom+".png",alt:""},e.nom+"preview"):Object(p.jsx)("img",{className:e.nom,src:"/pizza-maker/img/"+e.nom+".png",alt:"",style:{display:+e.state||r?"inherit":"none"}},e.nom+"preview")}))]})},g=(n(48),function(e){var t=e.ListeGarnitures,n=e.PresetsPizza,a=e.SauvegarderPizza,r=e.prixBase,s=Object(i.useState)(""),c=Object(j.a)(s,2),u=c[0],d=c[1],x=Object(l.g)(),O=Object(i.useState)(t),z=Object(j.a)(O,2),g=z[0],v=z[1],N=g.reduce((function(e,t){return t.state?e+1:e+0}),0),P=""!==u.trim(),k=N>0,A=n.every((function(e){return u.trim()!==e.nom.trim()})),G=g.reduce((function(e,t){return t.state?e+t.prix:e+0}),r),C=function(){g.map((function(e){e.state=!1})),v(Object(o.a)(g)),d("")};return Object(p.jsxs)("div",{className:"pizzaMaker",children:[Object(p.jsx)("h2",{children:"Createur de pizza"}),Object(p.jsx)("div",{className:"preview",children:Object(p.jsx)(f,{mesGarnitures:g})}),Object(p.jsxs)("div",{className:"formulaire",children:[Object(p.jsx)("h3",{children:"Choix de garnitures :"}),Object(p.jsx)("div",{className:"ChoixGarnitures",children:g.map((function(e,t){return Object(p.jsx)(h,{id:t,nom:e.nom,mesGarnitures:g,setGarnituresFn:v},e.nom+t)}))}),Object(p.jsxs)("label",{className:"formNomPizza",children:["Nommer v\xf4tre pizza :\xa0",Object(p.jsx)("input",{name:"Nom Pizza",type:"text",value:u,onChange:function(e){d((function(t){return e.target.value})),console.log(A)}})]}),Object(p.jsxs)("div",{className:"price",children:["Prix totale : ",G.toFixed(2),"$"]}),Object(p.jsxs)("div",{className:"formBtns",children:[Object(p.jsx)("button",{className:"myButton",onClick:function(){if(!(k&&P&&A))return null;var e=a(function(){var e=[];return g.forEach((function(t){t.state&&e.push({nom:t.nom})})),{nom:u,garnitures:e,prix:G}}());C(),x.push("/pizza/".concat(e.length-1))},children:"Enregistrer"}),Object(p.jsx)(m.b,{to:"/pizza",children:Object(p.jsx)("button",{className:"myButton",onClick:C,children:"Annuler"})}),P?null:Object(p.jsx)(b,{className:"formError",children:"*Un nom doit \xeatre entr\xe9"}),A?null:Object(p.jsx)(b,{className:"formError",children:"*Un nom unique doit \xeatre entr\xe9"}),k?null:Object(p.jsx)(b,{className:"formError",children:"*Au moins une garniture doit \xeatre selectionn\xe9"})]})]})]})}),v=function(e){var t=e.PresetsPizza,n=e.mesGarnitures,a=e.AddToCart,r=window.location.pathname,i=parseInt(r.replace("/pizza/",""));return Object(p.jsx)(p.Fragment,{children:t.map((function(e,t){return t!==i?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"section-head",children:[Object(p.jsx)(m.b,{to:"/pizza",children:Object(p.jsx)("button",{className:"myButton",children:"X"})}),Object(p.jsx)("h2",{children:e.nom})]}),Object(p.jsx)("div",{className:"preview",children:Object(p.jsx)(f,{mesGarnitures:e.garnitures,info:!0})}),Object(p.jsxs)("div",{className:"price",children:["Prix : ",e.prix.toFixed(2),"$"]}),Object(p.jsx)("div",{className:"ulTitle",children:"Garnitures :"}),Object(p.jsx)("ul",{className:"garnituresPreset",children:e.garnitures.map((function(t,a){return Object(p.jsx)(h,{id:a,nom:t.nom,mesGarnitures:n,setGarnituresFn:null,preset:!0},e.nom+"ingredient"+a)}))}),Object(p.jsx)("button",{onClick:function(){a(e)},children:"Ajouter au panier"})]})}))})},N=(n(49),function(e){var t=e.ListeGarnitures,n=e.PresetsPizza,a=e.AddToCart,r=Object(l.i)().path,i=window.location.pathname,s=parseInt(i.replace("/pizza/","")),c=new URLSearchParams(Object(l.h)().search).get("panier");return Object(p.jsxs)("div",{className:"pizzas-container",children:[Object(p.jsxs)("div",{className:"presets",children:[Object(p.jsxs)("div",{className:"section-head",children:[Object(p.jsx)("h2",{children:"Pizzas"}),Object(p.jsx)(m.b,{to:"/pizza/creer",children:Object(p.jsx)("button",{className:"myButton",children:"Creer nouvelle pizza"})})]}),n.map((function(e,t){return Object(p.jsxs)("div",{className:"preset",children:[Object(p.jsx)(m.b,{to:"/pizza/".concat(t),children:Object(p.jsx)(f,{mesGarnitures:e.garnitures,nom:e.nom,preset:!0})}),Object(p.jsxs)("div",{className:"price",children:[e.prix.toFixed(2),"$"]}),Object(p.jsx)("button",{className:"myButton",onClick:function(){a(e)},children:"Ajouter au panier"})]},"preview"+t)}))]}),Object(p.jsx)("div",{className:"pizzaInfo"+(isNaN(s)?" hiddenInfo":""),children:Object(p.jsx)(l.b,{path:"".concat(r,"/:pizza"),children:Object(p.jsx)(v,{PresetsPizza:n,mesGarnitures:t,AddToCart:a})})}),Object(p.jsx)("div",{className:"panier",children:c?"cool le panier hein ?!":null})]})}),P=function(e){var t=e.Garnitures,n=e.PizzasList,a=e.isAuthenticated,r=e.setAuthenticatedFn,i=e.SauvegarderPizza,s=e.AddToCart,c=e.prixBase;return a?Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/pizza-maker/pizza/creer",children:Object(p.jsx)(g,{ListeGarnitures:t,PresetsPizza:n,SauvegarderPizza:i,prixBase:c})}),Object(p.jsx)(l.b,{path:"/pizza-maker/pizza",children:Object(p.jsx)(N,{ListeGarnitures:t,PresetsPizza:n,AddToCart:s})}),Object(p.jsx)(l.a,{to:"/pizza-maker/pizza"})]}):Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/pizza-maker/login",children:Object(p.jsx)(x,{setAuthenticatedFn:r,defaultUsername:""})}),Object(p.jsx)(l.a,{to:"/pizza-maker/login"})]})},k=(n(50),"rgb(221, 4, 38)"),A=Object(d.a)(m.b)(r||(r=Object(u.a)(["\n    position: relative;\n    color: ",";\n    margin: 0.5em 1em;\n    padding: 0.25em 1em;\n    text-align: center;\n    transition: all ease-in .2s;\n\n    &:after{\n        position: absolute;\n        display: block;\n        height:2px;\n        background-color: ",';\n        width: 0%;\n        content: "";\n        transition: width ease-out .3s;\n    }\n\n    &:hover{\n        color: ',";\n        &:after{\n            width: 80%;\n        }\n    }\n    \n"])),k,k,"rgb(241, 80, 104)"),G=(n(51),function(e){var t,n=e.isAuthenticated;e.cart;return n&&(t=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(A,{to:"/pizza",children:Object(p.jsx)("div",{children:"Liste Pizza"})}),Object(p.jsx)(A,{to:"/pizza/creer",children:Object(p.jsx)("div",{children:"Creer Pizza"})}),Object(p.jsx)(A,{to:function(e){return"".concat(e.pathname,"?panier=true")},children:Object(p.jsx)("div",{children:"Panier"})})]})),Object(p.jsxs)("header",{id:"AppHeader",children:[Object(p.jsx)("h1",{children:"Mi-session Pizza!"}),Object(p.jsx)("div",{id:"mainNav",children:t})]})}),C=n(27),w=n(28),F=function(){var e=Object(i.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(w),s=Object(j.a)(r,2),c=s[0],u=s[1],d=(Object(l.g)(),Object(i.useState)([])),b=Object(j.a)(d,2),x=b[0],h=b[1];return Object(p.jsx)(m.a,{basename:"/pizza-maker",children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(G,{isAuthenticated:n}),Object(p.jsx)("main",{children:Object(p.jsx)(P,{Garnitures:C,PizzasList:c,isAuthenticated:n,setAuthenticatedFn:a,SauvegarderPizza:function(e){var t=[].concat(Object(o.a)(c),[e]);return u(t),t},AddToCart:function(e){var t=[].concat(Object(o.a)(x),[e]);return h(t),t},prixBase:9.8})})]})})};c.a.render(Object(p.jsx)(F,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.517b829c.chunk.js.map